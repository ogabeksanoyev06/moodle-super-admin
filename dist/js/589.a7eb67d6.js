"use strict";(self["webpackChunkmoodle_super_admin"]=self["webpackChunkmoodle_super_admin"]||[]).push([[589],{5530:function(e,t,a){a.d(t,{Z:function(){return u}});var s=function(){var e=this,t=e._self._c;return t(e.tag,e._g(e._b({tag:"component",staticClass:"a-btn",class:e.className,style:e.style,attrs:{type:e.type,disabled:e.disabled}},"component",e.$attrs,!1),e.listeners),[e._t("default")],2)},i=[],n=(a(7658),{name:"AppButton",props:{tag:{type:String,default:"button"},sides:{type:[Number,String],default:10},height:{type:[Number,String],default:50},width:{type:[Number,String]},radius:{type:[Number,String],default:15},fontSize:{type:[Number,String],default:16},weight:{type:[Number,String],default:500},theme:{type:String,default:"default"},disabled:{type:Boolean},textColor:{type:String},outline:{type:Boolean},noFocus:{type:Boolean},type:{type:String,default:"button"},shadow:{type:String},flex:{type:Boolean}},computed:{className(){const e="a-btn--",t=[e+"sd-"+this.sides,e+"rd-"+this.radius,e+"fn-"+this.fontSize,e+"wg-"+this.weight,e+"hg-"+this.height,e+"th-"+this.theme];return this.flex&&t.push(e+"fl"),this.width&&t.push(e+"wd"),this.outline&&t.push(e+"line"),this.textColor&&t.push(e+"cl-"+this.textColor),this.noFocus&&t.push(e+"nf"),this.shadow&&t.push(e+"shadow-"+this.shadow),t},style(){const e={};return this.width&&(e["--wd"]=this.width+"px"),e},listeners(){return this.disabled?{}:{click:e=>this.$emit("click",e)}}}}),r=n,c=a(1001),o=(0,c.Z)(r,s,i,!1,null,null,null),u=o.exports},4391:function(e,t,a){a.d(t,{Z:function(){return u}});var s=function(){var e=this;e._self._c;return e._m(0)},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"loader"},[t("div",{staticClass:"lds-roller"},[t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div")])])}],n={name:"PreLoader"},r=n,c=a(1001),o=(0,c.Z)(r,s,i,!1,null,null,null),u=o.exports},1003:function(e,t,a){a.d(t,{Z:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination"},[t("button",{staticClass:"btn btn-prev",attrs:{type:"button",disabled:1===e.current_page},on:{click:e.prevPage}},[t("span",[e._v("Oldingi")])]),t("ul",{staticClass:"pager"},e._l(e.page_count,(function(a){return t("li",{key:a,staticClass:"number",class:{active:e.current_page===a},on:{click:function(t){return e.changePage(a)}}},[e._v(" "+e._s(a)+" ")])})),0),t("button",{staticClass:"btn btn-next",attrs:{type:"button",disabled:e.current_page===e.page_count},on:{click:e.nextPage}},[t("span",[e._v("Keyingi")])])])},i=[],n={name:"PA",props:{count:{type:Number},page_count:{type:Number},current_page:{type:Number,default:1}},computed:{},methods:{nextPage(){this.$emit("nextPage",this.current_page)},prevPage(){this.$emit("prevPage",this.current_page)},changePage(e){this.current_page!==e&&this.$emit("changePage",e)}}},r=n,c=a(1001),o=(0,c.Z)(r,s,i,!1,null,"18333d8a",null),u=o.exports},1364:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content"},[e.loading?t("app-loading"):t("div",{staticClass:"items"},[t("div",{staticClass:"items-left"},[t("div",{staticClass:"box box-default"},[t("div",{staticClass:"box-header"}),t("div",{staticClass:"box-body"},[t("div",{staticClass:"table-block"},[t("table",{staticClass:"table"},[t("thead",[t("tr",[t("th",[e._v("Nomi ยบ")]),t("th",[e._v("Kod")]),t("th",[e._v("Joriy holat")]),t("th",[e._v("O'zgartirilgan")]),t("th",[e._v("Faol")])])]),t("tbody",e._l(e.educationYear.results,(function(a,s){return t("tr",{key:s},[t("td",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.educationYearGetId(a.id)}}},[e._v(" "+e._s(a.name)+" ")]),t("td",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.educationYearGetId(a.id)}}},[e._v(" "+e._s(a.code)+" ")]),t("td",[e._v(e._s(a.current?"Ha":"Yo`q"))]),t("td",[e._v(" "+e._s(e.$moment(a.updated_at).format("YYYY-MM-DD h:mm:ss"))+" ")]),t("td",[t("label",{staticClass:"switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.status_action,expression:"item.status_action"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.status_action)?e._i(a.status_action,null)>-1:a.status_action},on:{change:[function(t){var s=a.status_action,i=t.target,n=!!i.checked;if(Array.isArray(s)){var r=null,c=e._i(s,r);i.checked?c<0&&e.$set(a,"status_action",s.concat([r])):c>-1&&e.$set(a,"status_action",s.slice(0,c).concat(s.slice(c+1)))}else e.$set(a,"status_action",n)},function(t){return e.changeStatus(a.id,a)}]}}),t("div",{staticClass:"slider round"})])])])})),0)])])])]),t("div",{staticClass:"box-footer"},[t("Pagination",{attrs:{count:e.pager?.count,page_count:e.pager?.page_count,current_page:e.pager?.current_page},on:{changePage:e.handlePageChange,prevPage:e.handlePrevPage,nextPage:e.handleNextPage}})],1)]),t("div",{staticClass:"items-right"},[t("div",{staticClass:"box"},[t("div",{staticClass:"box-body"},[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({handleSubmit:a}){return[t("form",{on:{submit:function(e){return e.preventDefault(),a()}}},[t("base-select",{attrs:{type:"text",label:"O'quv yili",vid:"O'quv yili",rules:"required",placeholder:"O'quv yilini tanlang",optionsProp:e.educationYear.results},model:{value:e.educationYearValue,callback:function(t){e.educationYearValue=t},expression:"educationYearValue"}}),t("base-select",{attrs:{type:"text",label:"Semestr turi",vid:"Semestr turi",rules:"required",placeholder:"Semestr turi tanlang"},model:{value:e.educationyearSemestrValue,callback:function(t){e.educationyearSemestrValue=t},expression:"educationyearSemestrValue"}}),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.isChecked,expression:"isChecked"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.isChecked)?e._i(e.isChecked,null)>-1:e.isChecked},on:{change:function(t){var a=e.isChecked,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=e._i(a,n);s.checked?r<0&&(e.isChecked=a.concat([n])):r>-1&&(e.isChecked=a.slice(0,r).concat(a.slice(r+1)))}else e.isChecked=i}}}),t("label",{staticClass:"checkbox-label",attrs:{for:"checkbox"}},[t("span",{staticClass:"checkbox-custom",class:{checked:e.isChecked}},[e.isChecked?t("i",{staticClass:"fa fa-check"}):e._e()]),e._v(" Joriy holat ")])]),t("div",{staticClass:"box-footer d-flex mla",class:e.isMobile?"flex-wrap":""},[t("app-button",{staticClass:"mr-5",attrs:{theme:"transparent","font-size":e.isMobile?14:16,sides:e.isMobile?10:20,radius:"5",height:"40"},on:{click:e.clear}},[e._v(" Bekor ")]),t("app-button",{staticClass:"mr-5",attrs:{theme:"delete","font-size":e.isMobile?14:16,sides:e.isMobile?10:20,radius:"5",height:"40",disabled:""}},[e._v(" O'chirish ")]),t("app-button",{attrs:{theme:"main","font-size":e.isMobile?14:16,sides:e.isMobile?10:20,radius:"5",height:"40",type:"submit"}},[t("i",{staticClass:"fa fa-check"}),e._v(" Saqlash ")])],1)],1)]}}])})],1)])])])],1)},i=[],n=a(4391),r=a(5708),c=a(5530),o=a(785),u=a(3822),l=a(1003),d={components:{AppLoading:n.Z,ValidationObserver:r._j,AppButton:c.Z,BaseSelect:o.Z,Pagination:l.Z},name:"curriculum-education-year",data(){return{loading:!1,showSelectYear:!1,showSelectSemestr:!1,educationYearValue:"",educationyearSemestrValue:"",isChecked:!1,pager:{count:null,page_count:null,current_page:1}}},methods:{...(0,u.nv)(["getEducationYear"]),hideSelectDropdownYear(){this.showSelectYear=!1},hideSelectDropdownSemestr(){this.showSelectSemestr=!1},curriculumYear(e){this.education_year_value=e},curriculumYearSemestr(e){this.educationyear_semestr_value=e},educationYearGetId(e){this.loading=!0,this.$http.get(`educationyear/get/${e}`).then((e=>{e.name?(this.educationYearValue=e.name,this.educationyearSemestrValue=e.id):this.errorNotification(e.error)})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))},changeStatus(e,t){this.$http.patch(`educationyear/update/${e}`,{status_action:t.status_action,code:t.code,name:t.name,current:t.current}).then((e=>{console.log(e)})).catch((e=>{this.errorNotification(e.response.data.code[0])}))},educationYearUpdate(e){this.loading=!0,this.$http.get(`educationyear/update/${e}`,{status_action:!0,code:"string",name:"string",current:!0}).then((e=>{console.log(e)})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))},clear(){this.educationYearValue="",this.educationyearSemestrValue=""},handlePageChange(e){this.pager.current_page=e,this.getEducationYear({number:this.pager.current_page})},handlePrevPage(e){this.pager.current_page=e-1,this.getEducationYear({number:this.pager.current_page})},handleNextPage(e){this.pager.current_page=e+1,this.getEducationYear({number:this.pager.current_page})}},computed:{...(0,u.Se)(["educationYear"])},async mounted(){await this.getEducationYear({number:this.pager.current_page}),this.pager={count:this.educationYear?.count,page_count:this.educationYear?.page_count,current_page:1}}},h=d,p=a(1001),g=(0,p.Z)(h,s,i,!1,null,"4b184dd8",null),m=g.exports}}]);
//# sourceMappingURL=589.a7eb67d6.js.map