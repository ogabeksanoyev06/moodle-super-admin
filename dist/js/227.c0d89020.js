"use strict";(self["webpackChunkmoodle_super_admin"]=self["webpackChunkmoodle_super_admin"]||[]).push([[227],{5530:function(t,e,a){a.d(e,{Z:function(){return o}});var s=function(){var t=this,e=t._self._c;return e(t.tag,t._g(t._b({tag:"component",staticClass:"a-btn",class:t.className,style:t.style,attrs:{type:t.type,disabled:t.disabled}},"component",t.$attrs,!1),t.listeners),[t._t("default")],2)},i=[],n=(a(7658),{name:"AppButton",props:{tag:{type:String,default:"button"},sides:{type:[Number,String],default:10},height:{type:[Number,String],default:50},width:{type:[Number,String]},radius:{type:[Number,String],default:15},fontSize:{type:[Number,String],default:16},weight:{type:[Number,String],default:500},theme:{type:String,default:"default"},disabled:{type:Boolean},textColor:{type:String},outline:{type:Boolean},noFocus:{type:Boolean},type:{type:String,default:"button"},shadow:{type:String},flex:{type:Boolean}},computed:{className(){const t="a-btn--",e=[t+"sd-"+this.sides,t+"rd-"+this.radius,t+"fn-"+this.fontSize,t+"wg-"+this.weight,t+"hg-"+this.height,t+"th-"+this.theme];return this.flex&&e.push(t+"fl"),this.width&&e.push(t+"wd"),this.outline&&e.push(t+"line"),this.textColor&&e.push(t+"cl-"+this.textColor),this.noFocus&&e.push(t+"nf"),this.shadow&&e.push(t+"shadow-"+this.shadow),e},style(){const t={};return this.width&&(t["--wd"]=this.width+"px"),t},listeners(){return this.disabled?{}:{click:t=>this.$emit("click",t)}}}}),r=n,l=a(1001),d=(0,l.Z)(r,s,i,!1,null,null,null),o=d.exports},4391:function(t,e,a){a.d(e,{Z:function(){return o}});var s=function(){var t=this;t._self._c;return t._m(0)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loader"},[e("div",{staticClass:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])])}],n={name:"PreLoader"},r=n,l=a(1001),d=(0,l.Z)(r,s,i,!1,null,null,null),o=d.exports},1425:function(t,e,a){a.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("ValidationProvider",{ref:"validationInput",staticClass:"input__holder",attrs:{tag:"div",rules:t.rules,name:t.label?t.label:t.placeholder,vid:t.vid,hideDetails:t.hideDetails},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("div",{staticClass:"input__block",class:t.disabled?"disabled":""},[e("label",{staticClass:"input__block-label"},[t.label?e("span",{staticClass:"input__block-title"},[t._v(t._s(t.label))]):t._e(),e("div",{staticClass:"input__block-wrap",class:a[0]?"error":""},[e("div",{staticClass:"input__block-prepend"},[t._t("prepend")],2),e("div",{staticClass:"input__block-append"},[t._t("append")],2),e("div",{staticClass:"input__block-append hide-password",on:{click:t.showPassword}},[t._t("hidePassword")],2),e("input",t._b({ref:"input",staticClass:"input__block-input",class:a[0]?"error":"",attrs:{disabled:t.disabled,type:t.type,maxlength:t.maxlength,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.inputValue,keypress:t.keyPressValue}},"input",t.$attrs,!1))]),t.hideDetails?t._e():e("div",{staticClass:"input__details"},[a[0]?e("span",{attrs:{id:"error"}},[t._v(" "+t._s(a[0]))]):t._e()])])])]}}],null,!0)})},i=[],n=a(5708),r=a(8815);(0,n.l7)("required",{...r.C1,message:"{_field_}ni kiritish majburiy"}),(0,n.l7)("min",{...r.VV,message:"Berilgan sondan keyin 2ta raqam kiritish shart"}),(0,n.l7)("email",{...r.Do,message:"Email formatda kiriting"}),(0,n.l7)("confirmed",{...r.GU,message:"Parollar mos tushmayapti"});var l={name:"BaseInput",components:{ValidationProvider:n.d_},props:{masked:{default:!1},value:{default:""},label:{type:String},type:{},hideDetails:{type:Boolean},placeholder:{},rules:{},vid:{},maxlength:{default:null},disabled:{type:Boolean,default:()=>!1},autofocus:Boolean},methods:{inputValue(t){this.$emit("input",t.target.value)},keyPressValue(t){this.$emit("keypress",t)},focus(){this.$refs.input.focus()},showPassword(){}},mounted(){this.autofocus&&this.focus()}},d=l,o=a(1001),p=(0,o.Z)(d,s,i,!1,null,null,null),u=p.exports},1003:function(t,e,a){a.d(e,{Z:function(){return o}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pagination"},[e("button",{staticClass:"btn btn-prev",attrs:{type:"button",disabled:1===t.current_page},on:{click:t.prevPage}},[e("span",[t._v("Oldingi")])]),e("ul",{staticClass:"pager"},t._l(t.page_count,(function(a){return e("li",{key:a,staticClass:"number",class:{active:t.current_page===a},on:{click:function(e){return t.changePage(a)}}},[t._v(" "+t._s(a)+" ")])})),0),e("button",{staticClass:"btn btn-next",attrs:{type:"button",disabled:t.current_page===t.page_count},on:{click:t.nextPage}},[e("span",[t._v("Keyingi")])])])},i=[],n={name:"PA",props:{count:{type:Number},page_count:{type:Number},current_page:{type:Number,default:1}},computed:{},methods:{nextPage(){this.$emit("nextPage",this.current_page)},prevPage(){this.$emit("prevPage",this.current_page)},changePage(t){this.current_page!==t&&this.$emit("changePage",t)}}},r=n,l=a(1001),d=(0,l.Z)(r,s,i,!1,null,"18333d8a",null),o=d.exports},2026:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[t.loading?e("app-loading"):e("div",{staticClass:"items"},[e("div",{staticClass:"items-left"},[e("div",{staticClass:"box box-default"},[e("div",{staticClass:"box-header"}),e("div",{staticClass:"box-body"},[e("div",{staticClass:"table-block"},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[t._v("Kod")]),e("th",[t._v("Nomi ยบ")]),e("th",[t._v("Fakultet")]),e("th",[t._v("Faol")])])]),e("tbody",t._l(t.department.results,(function(a,s){return e("tr",{key:s},[e("td",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.departmentGetId(a.id)}}},[t._v(" "+t._s(a.kod)+" ")]),e("td",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.departmentGetId(a.id)}}},[t._v(" "+t._s(a.name)+" ")]),e("td",[t._v(t._s(a.status))]),e("td",[e("label",{staticClass:"switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.status,expression:"item.status"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.status)?t._i(a.status,null)>-1:a.status},on:{click:function(e){return t.toggleCheckbox(s)},change:function(e){var s=a.status,i=e.target,n=!!i.checked;if(Array.isArray(s)){var r=null,l=t._i(s,r);i.checked?l<0&&t.$set(a,"status",s.concat([r])):l>-1&&t.$set(a,"status",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(a,"status",n)}}}),e("div",{staticClass:"slider round"})])])])})),0)])])])]),e("div",{staticClass:"box-footer"},[e("Pagination",{attrs:{count:t.pager?.count,page_count:t.pager?.page_count,current_page:t.pager?.current_page,next:t.pager?.next,previous:t.pager?.previous},on:{changePage:t.handlePageChange,prevPage:t.handlePrevPage,nextPage:t.handleNextPage}})],1)]),e("div",{staticClass:"items-right"},[e("div",{staticClass:"box"},[e("div",{staticClass:"box-body pa-10"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),a(t.departmentSave)}}},[e("base-select",{attrs:{type:"text",label:"Fakultet",vid:"Fakultet",rules:"required",placeholder:"Fakultetni tanlang","options-prop":t.faculties.results},model:{value:t.departmentTypeUpdate.faculty,callback:function(e){t.$set(t.departmentTypeUpdate,"faculty",e)},expression:"departmentTypeUpdate.faculty"}}),e("base-input",{attrs:{type:"text",vid:"Nomi",rules:"required",label:"Nomi ยบ",placeholder:"Nomi"},model:{value:t.departmentTypeUpdate.name,callback:function(e){t.$set(t.departmentTypeUpdate,"name",e)},expression:"departmentTypeUpdate.name"}}),e("base-input",{directives:[{name:"mask",rawName:"v-mask",value:"336-101-##",expression:"'336-101-##'"}],attrs:{type:"text",vid:"Kod",rules:"required|min:10",label:"Kod",placeholder:"Kod"},model:{value:t.departmentTypeUpdate.kod,callback:function(e){t.$set(t.departmentTypeUpdate,"kod",e)},expression:"departmentTypeUpdate.kod"}}),e("div",{staticClass:"box-footer d-flex mla",class:t.isMobile?"flex-wrap":""},[e("app-button",{staticClass:"mr-5",attrs:{theme:"transparent","font-size":t.isMobile?14:16,sides:t.isMobile?10:20,radius:"5",height:"40"},on:{click:t.clear}},[t._v(" Bekor ")]),e("app-button",{staticClass:"mr-5",attrs:{theme:"delete","font-size":t.isMobile?14:16,sides:t.isMobile?10:20,radius:"5",height:"40",disabled:""},on:{click:function(e){return t.departmentDelete(t.department_id)}}},[t._v(" O'chirish ")]),e("app-button",{attrs:{theme:"main","font-size":t.isMobile?14:16,sides:t.isMobile?10:20,radius:"5",height:"40",type:"submit"}},[e("i",{staticClass:"fa fa-check"}),t._v(" Saqlash ")])],1)],1)]}}])})],1)])])])],1)},i=[],n=a(5708),r=a(5530),l=a(3822),d=a(4391),o=a(1425),p=a(785),u=a(1003),c={name:"structure-department",components:{ValidationObserver:n._j,AppButton:r.Z,AppLoading:d.Z,BaseInput:o.Z,BaseSelect:p.Z,Pagination:u.Z},data(){return{loading:!1,showSelect:!1,filterSelect:!1,filterValue:"",checkbox:!0,department_id:"",departmentTypeUpdate:{faculty:"",name:"",kod:""},pager:{count:null,page_count:null,current_page:1}}},methods:{...(0,l.nv)(["getFaculty","getDeparments"]),facultyId(t){this.showSelect=!1,this.departmentTypeUpdate.faculty=t.name},filterFaculty(t){this.filterSelect=!1,this.filterValue=t.value},hideSelectDropdown(){this.showSelect=!1,this.filterSelect=!1},toggleCheckbox(){this.checkbox=!this.checkbox,this.$emit("setCheckboxVal",this.checkbox)},toggleFilterSelect(){this.filterSelect=!this.filterSelect},departmentGetId(t){this.loading=!0,this.$http.get(`department/get/${t}`).then((t=>{console.log(t),this.departmentTypeUpdate.faculty=t.faculty.name,this.departmentTypeUpdate.name=t.name,this.departmentTypeUpdate.kod=t.kod,this.department_id=t.id})).catch((()=>{})).finally((()=>{this.loading=!1}))},departmentDelete(t){this.$http.post("department/delete/",{id:t}).then((t=>{this.successNotification(t.xabar),this.departmentTypeUpdate.faculty="",this.departmentTypeUpdate.name="",this.departmentTypeUpdate.kod="",this.department_id="",this.getDepartment()})).finally((()=>{})).catch((t=>{this.errorNotification(t.response.data.id)}))},departmentSave(){console.log("aaa")},clear(){this.departmentTypeUpdate.faculty="",this.departmentTypeUpdate.name="",this.departmentTypeUpdate.kod="",this.department_id=""},handlePageChange(t){this.pager.current_page=t,this.getDeparments({number:this.pager.current_page})},handlePrevPage(t){this.pager.current_page=t-1,this.getDeparments({number:this.pager.current_page})},handleNextPage(t){this.pager.current_page=t+1,this.getDeparments({number:this.pager.current_page})}},computed:{...(0,l.Se)(["faculties","department"]),...(0,l.rn)([])},async mounted(){await this.getDeparments({number:this.pager.current_page}),this.pager={count:this.department?.count,page_count:this.department?.page_count,current_page:1},this.getFaculty()},created(){}},h=c,m=a(1001),g=(0,m.Z)(h,s,i,!1,null,"35d49ac4",null),f=g.exports}}]);
//# sourceMappingURL=227.c0d89020.js.map